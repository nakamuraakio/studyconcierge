<h3>チューター一覧</h3>

<div class="container-fluid">
<%= form_for(@user, url: select_tutor_update_path) do |f| %>

<p>
<% if current_user.tutor_request_exists %>
  申請を撤回する
<% elsif current_user.tutor_id == 0 %>
  選択しない
<% else %>
  現在選択中のチューターを解除する（担当チューターがいない間は報告・コメント機能がオフになります）
<% end %>
<%= f.radio_button :tutor_id, 0 %>
</p>

<% @tutors.each do |tutor| %>
<table id="mentor_table" name="mentor_table">
    <tr>
        <td style="width:250px;">
            <div class="mentor_img_2">
                <a href="show/<%= tutor.id %>">
                 <%= image_tag url_for(:controller => 'tutors/registrations', :action => 'photo', :id => tutor.id)%>
                 </a>
            </div>
        </td>
    </tr>
    <tr>
        <td id="mentor_profile">
        <h5><%= tutor.name %></h5>
        </td>
    </tr>
    <tr>
        <td id="mentor_profile">
            <h5><%= tutor.university %></h5>
        </td>
    </tr>
    <tr>
        <td id="mentor_profile">
            <h5><%= tutor.is_from %></h5>
        </td>
    </tr>
    <tr>
        <td id="mentor_profile">
            <h5><%= tutor.highschool %></h5>
        </td>
    </tr>
    <tr>
        <td class="exist_free_time" id="mentor_profile">
          あと<%= tutor.capacity - tutor.users.count %>人
        </td>
    </tr>
    <tr>
      <td><label>
        <% if tutor.capacity - tutor.users.count == 0 || current_user.tutor_request_exists || tutor == current_user.tutor %>
          <%= f.radio_button :tutor_id, tutor.id, { :disabled => true } %>
        <% else %>
          <%= f.radio_button :tutor_id, tutor.id %>
        <% end %>
      </label></td>
    </tr>

    <% end %>
    </tbody>
  </table>

  <div class="actions">
    <%= f.submit "Update", data: { confirm: '本当にチューターを変更しますか？なるべく一人の人に長く見てもらいましょう。コメントが上限まで達していない報告があった場合変更前のチューターからのコメントは来なくなります。' } %>
  </div>
<% end %>
</div>

